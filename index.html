<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Korece Kelime Quiz Oyunu</title>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <style>
    * { text-align: center; box-sizing: border-box; }
    body {
      font-family: 'Press Start 2P', cursive;
      background: #ffe6f2;
      color: #ff320d;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
    }
    .header h1 { font-size: 32px; margin: 20px 0; }
    .container { max-width: 700px; padding: 20px; }
    .mode-selection { display: flex; justify-content: center; gap: 20px; margin-bottom: 20px; }
    .question-box { display: none; background: #ffd4dc; padding: 20px; border-radius: 10px; box-shadow: 3px 3px 0px #140f0f; }
    .options { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; margin-top: 15px; }
    .option-btn { background: #ffe6f2; padding: 10px 20px; border-radius: 5px; cursor: pointer; }
    .option-btn:hover { background: #ffc0cb; }
    .feedback { margin-top: 15px; font-size: 14px; min-height: 20px; }
    .next-btn, .restart-btn { display: none; margin-top: 15px; padding: 10px 20px; background: #ffe6f2; cursor: pointer; }
    .next-btn:hover, .restart-btn:hover { background: #ffc0cb; }
  </style>
</head>
<body>

  <div class="header">
    <h1>KORECE KELƒ∞ME QUIZ OYUNU</h1>
  </div>

  <div class="container">
    <div class="mode-selection" id="mode-selection">
      <button onclick="chooseMode('easy')">üçô Kolay Mod</button>
      <button onclick="chooseMode('hard')">üå∂Ô∏è Zor Mod</button>
    </div>

    <div class="question-box" id="question-box">
      <h3 id="question-text">Soru Y√ºkleniyor...</h3>
      <div class="options" id="options"></div>
      <p id="feedback"></p>
      <button class="next-btn" id="next-btn">Sonraki Soru</button>
      <button class="restart-btn" id="restart-btn">Ba≈ütan Ba≈üla</button>
    </div>
  </div>

  <script>
    let allQuestions = [];
    let currentQuestions = [];
    let currentIndex = 0;

    // JSON Dosyasƒ±nƒ± Fetch ile Y√ºkle
    function loadJSON() {
      fetch('data.json')
        .then(response => response.json())
        .then(data => {
          allQuestions = data;
          console.log("‚úÖ Sorular y√ºklendi:", allQuestions);
        })
        .catch(error => console.error("‚ùå JSON y√ºklenirken hata olu≈ütu:", error));
    }

    window.onload = loadJSON;

    function chooseMode(mode) {
      if (allQuestions.length === 0) {
        alert("Sorular y√ºklenmedi! L√ºtfen tekrar deneyin.");
        return;
      }

      currentQuestions = allQuestions.filter(q => q.Seviye.toLowerCase() === mode);
      shuffleArray(currentQuestions);

      document.getElementById("mode-selection").style.display = "none";
      document.getElementById("question-box").style.display = "block";
      currentIndex = 0;
      loadQuestion();
    }

    function loadQuestion() {
      if (currentIndex >= currentQuestions.length) {
        document.getElementById("question-text").textContent = "Tebrikler, sorular bitti!";
        document.getElementById("options").innerHTML = "";
        document.getElementById("feedback").textContent = "";
        document.getElementById("next-btn").style.display = "none";
        document.getElementById("restart-btn").style.display = "block";
        return;
      }

      let q = currentQuestions[currentIndex];
      document.getElementById("question-text").textContent = `Korece "${q.Korece}" kelimesinin T√ºrk√ße kar≈üƒ±lƒ±ƒüƒ± nedir?`;

      let correctAnswer = q.T√ºrk√ße;
      let wrongAnswers = allQuestions.map(q => q.T√ºrk√ße).filter(ans => ans !== correctAnswer);
      shuffleArray(wrongAnswers);
      let options = [correctAnswer, ...wrongAnswers.slice(0, 3)];
      shuffleArray(options);

      let optionsDiv = document.getElementById("options");
      optionsDiv.innerHTML = "";
      options.forEach(opt => {
        let btn = document.createElement("button");
        btn.className = "option-btn";
        btn.textContent = opt;
        btn.onclick = () => checkAnswer(opt, correctAnswer);
        optionsDiv.appendChild(btn);
      });

      document.getElementById("next-btn").style.display = "none";
      document.getElementById("restart-btn").style.display = "none";
    }

    function checkAnswer(selected, correct) {
      let feedback = document.getElementById("feedback");
      if (selected === correct) {
        feedback.textContent = "‚úÖ Doƒüru!";
      } else {
        feedback.textContent = `‚ùå Yanlƒ±≈ü! Doƒüru cevap: ${correct}`;
      }
      document.getElementById("next-btn").style.display = "block";
    }

    document.getElementById("next-btn").addEventListener("click", () => {
      currentIndex++;
      loadQuestion();
    });

    document.getElementById("restart-btn").addEventListener("click", () => {
      document.getElementById("mode-selection").style.display = "flex";
      document.getElementById("question-box").style.display = "none";
    });

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }
  </script>

</body>
</html>
