<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Korece Kelime Oyunu</title>
  <style>
    /* Genel Ayarlar */
    body {
      margin: 0;
      padding: 0;
      background: #fff;
      font-family: "Comfortaa", sans-serif;
    }
    h1, h2, h3, p, ul {
      margin: 0;
      padding: 0;
    }

    /* Üç ana ekran: Başlangıç, Quiz ve Sonuç */
    .screen {
      display: none;
      width: 100vw;
      height: 100vh;
      overflow: auto;
      text-align: center;
      background: #fffaf0;
      padding-top: 50px;
      box-sizing: border-box;
    }
    .active {
      display: block;
    }

    /* --- Başlangıç Ekranı --- */
    #start-screen h1 {
      color: #9FD520;
      font-size: 48px;
      margin-bottom: 20px;
    }
    #start-screen h2 {
      color: #9CD713;
      margin-bottom: 30px;
    }
    .mode-btn {
      font-size: 24px;
      padding: 20px 40px;
      margin: 20px;
      border-radius: 10px;
      border: 2px solid #FFC49A;
      background: #F7D9C4;
      cursor: pointer;
      transition: 0.2s;
    }
    .mode-btn:hover {
      background: #ffd9b8;
    }

    /* --- Quiz Ekranı --- */
    #quiz-screen {
      position: relative;
      padding-bottom: 50px;
    }
    #top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px 40px;
    }
    #music-btn {
      width: 60px;
      height: 60px;
      border-radius: 30px;
      background: #F7D9C4;
      border: 2px solid #FFC49A;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      cursor: pointer;
      transition: 0.2s;
    }
    #music-btn:hover {
      background: #ffd9b8;
    }
    #question-counter {
      font-size: 24px;
      font-weight: 600;
    }
    #mode-switch-btn {
      font-size: 18px;
      padding: 10px 20px;
      border-radius: 10px;
      border: 2px solid #FFC49A;
      background: #F7D9C4;
      cursor: pointer;
      margin: 10px auto;
      display: block;
      transition: 0.2s;
    }
    #mode-switch-btn:hover {
      background: #ffd9b8;
    }
    #korean-word-box {
      margin: 40px auto 20px auto;
      width: 700px;
      min-height: 150px;
      background: rgba(247,217,196,0.3);
      border: 2px dashed #FFC49A;
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    #korean-word {
      font-size: 64px;
      color: #9CD713;
    }
    #answer-buttons {
      margin-top: 20px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 15px;
    }
    .answer-btn {
      width: 200px;
      padding: 15px;
      border-radius: 20px;
      border: 2px solid #FFC49A;
      background: #F7D9C4;
      font-size: 20px;
      cursor: pointer;
      transition: 0.2s;
    }
    .answer-btn:hover {
      background: #ffd9b8;
    }
    #wrong-answers-box {
      margin: 40px auto;
      width: 60%;
      min-height: 100px;
      background: rgba(247,217,196,0.3);
      border: 2px dashed #FFC49A;
      border-radius: 20px;
      padding: 20px;
      text-align: left;
    }
    #wrong-answers-box h3 {
      margin-bottom: 10px;
      font-size: 24px;
      color: #d55;
    }

    /* --- Sonuç Ekranı --- */
    #result-screen {
      padding-top: 50px;
    }
    #result-box {
      width: 800px;
      margin: 0 auto;
      background: rgba(247,217,196,0.3);
      border: 2px dashed #FFC49A;
      border-radius: 20px;
      padding: 20px;
    }
    #result-box h2 {
      color: #9FD520;
      margin-bottom: 20px;
    }
    .result-lists {
      display: flex;
      justify-content: space-around;
      margin-top: 30px;
    }
    .result-lists > div {
      width: 40%;
    }
    .result-lists ul {
      text-align: left;
      list-style: none;
      margin-top: 10px;
    }
    #score {
      font-size: 28px;
      margin: 20px 0;
      color: #333;
    }
    #restart-btn {
      font-size: 20px;
      padding: 10px 30px;
      border-radius: 10px;
      border: 2px solid #FFC49A;
      background: #F7D9C4;
      cursor: pointer;
      margin-top: 20px;
      transition: 0.2s;
    }
    #restart-btn:hover {
      background: #ffd9b8;
    }
  </style>
</head>
<body>

  <!-- 1) MOD SEÇME EKRANI (START SCREEN) -->
  <div id="start-screen" class="screen active">
    <h1>KORECE KELİME OYUNU</h1>
    <h2>Mod Seç</h2>
    <button id="kimbap-btn" class="mode-btn">🍙 Kimbap Modu (Kolay)</button>
    <button id="gocu-btn" class="mode-btn">🌶️ Goçu Modu (Zor)</button>
  </div>

  <!-- 2) QUIZ EKRANI -->
  <div id="quiz-screen" class="screen">
    <div id="top-bar">
      <!-- Müzik Aç/Kapa -->
      <div id="music-btn">🔈</div>
      <!-- Soru Sayacı -->
      <div id="question-counter">1/20</div>
    </div>

    <!-- Mod Değiştirme Butonu -->
    <button id="mode-switch-btn">Kolay mı geldi? Biraz acı ekleyelim! 🌶️</button>

    <!-- Soru Kutusu -->
    <div id="korean-word-box">
      <div id="korean-word">가게</div>
    </div>

    <!-- Şıklar -->
    <div id="answer-buttons"></div>

    <!-- Yanlış Cevaplar Kutusu -->
    <div id="wrong-answers-box">
      <h3>Yanlış Cevaplar</h3>
      <ul id="wrong-list"></ul>
    </div>
  </div>

  <!-- 3) SONUÇ EKRANI -->
  <div id="result-screen" class="screen">
    <div id="result-box">
      <h2>Quiz Sonucu</h2>
      <div class="result-lists">
        <div>
          <h3>Doğru Yanıtlar</h3>
          <ul id="correct-list"></ul>
        </div>
        <div>
          <h3>Yanlış Yanıtlar</h3>
          <ul id="incorrect-list"></ul>
        </div>
      </div>
      <div id="score"></div>
      <button id="restart-btn">Yeni Quiz Oluştur</button>
    </div>
  </div>

  <!-- SES DOSYALARI (aynı klasörde bulunmalı) -->
  <audio id="click-sound" src="click.mp3"></audio>
  <audio id="correct-sound" src="correct.mp3"></audio>
  <audio id="wrong-sound" src="wrong.mp3"></audio>
  <audio id="music-sound" src="music.mp3" loop></audio>

  <script>
    /* --- KELIME DİZİSİ --- 
       (Buraya elindeki 1000 kelimeyi ekleyebilirsin.)
    */
    const words = [
      { korean: "가격", turkish: "fiyat" },
      { korean: "가구", turkish: "mobilya" },
      { korean: "가깝다", turkish: "yakın olmak" },
      { korean: "가끔", turkish: "bazen" },
      { korean: "가다", turkish: "gitmek" },
      { korean: "가르치다", turkish: "öğretmek" },
      { korean: "가방", turkish: "çanta" },
      { korean: "가볍다", turkish: "hafif olmak" },
      { korean: "가수", turkish: "şarkıcı" },
      { korean: "가족", turkish: "aile" },
      { korean: "감기", turkish: "nezle" },
      { korean: "감사하다", turkish: "teşekkür etmek" },
      { korean: "갑자기", turkish: "aniden" },
      { korean: "강", turkish: "nehir" },
      { korean: "같다", turkish: "aynı olmak" },
      { korean: "같이", turkish: "birlikte" },
      { korean: "개", turkish: "köpek" },
      { korean: "개", turkish: "adet" },
      { korean: "개월", turkish: "ay" },
      { korean: "거기", turkish: "orada" }
      // Devam edebilirsin...
    ];

    /* --- DOM ELEMANLARI --- */
    const startScreen = document.getElementById("start-screen");
    const quizScreen = document.getElementById("quiz-screen");
    const resultScreen = document.getElementById("result-screen");

    const kimbapBtn = document.getElementById("kimbap-btn");
    const gocuBtn = document.getElementById("gocu-btn");
    const modeSwitchBtn = document.getElementById("mode-switch-btn");

    const questionCounter = document.getElementById("question-counter");
    const koreanWordEl = document.getElementById("korean-word");
    const answerButtonsEl = document.getElementById("answer-buttons");
    const wrongList = document.getElementById("wrong-list");

    const correctList = document.getElementById("correct-list");
    const incorrectList = document.getElementById("incorrect-list");
    const scoreEl = document.getElementById("score");
    const restartBtn = document.getElementById("restart-btn");

    const musicBtn = document.getElementById("music-btn");
    const clickSound = document.getElementById("click-sound");
    const correctSound = document.getElementById("correct-sound");
    const wrongSound = document.getElementById("wrong-sound");
    const musicSound = document.getElementById("music-sound");

    /* --- DEĞİŞKENLER --- */
    let mode = "kimbap"; // "kimbap" (kolay) veya "gocu" (zor)
    let randomWords = [];
    let currentQuestionIndex = 0;
    let wrongAnswers = [];  // { korean, turkish }
    let answersGiven = [];  // { korean, correctAnswer, userAnswer }
    let musicPlaying = false;
    let totalQuestions = 20; // Çekilecek soru sayısı

    /* --- FONKSİYONLAR --- */
    // Ekranlar arasında geçiş yapar
    function showScreen(screen) {
      startScreen.classList.remove("active");
      quizScreen.classList.remove("active");
      resultScreen.classList.remove("active");
      screen.classList.add("active");
    }

    // Rastgele karıştırma
    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    // Müzik aç/kapa
    function toggleMusic() {
      playClickSound();
      if (musicPlaying) {
        musicSound.pause();
        musicBtn.textContent = "🔈";
      } else {
        musicSound.play();
        musicBtn.textContent = "🔇";
      }
      musicPlaying = !musicPlaying;
    }

    // Ses oynatma fonksiyonları
    function playClickSound() {
      clickSound.currentTime = 0;
      clickSound.play();
    }
    function playCorrectSound() {
      correctSound.currentTime = 0;
      correctSound.play();
    }
    function playWrongSound() {
      wrongSound.currentTime = 0;
      wrongSound.play();
    }

    // Quiz başlatma (mod seçildiğinde)
    function startQuiz(selectedMode) {
      mode = selectedMode;
      randomWords = shuffle([...words]).slice(0, totalQuestions);
      currentQuestionIndex = 0;
      wrongAnswers = [];
      answersGiven = [];
      wrongList.innerHTML = "";
      showScreen(quizScreen);
      updateModeSwitchBtn();
      showQuestion();
    }

    // Mod değiştirme butonunun yazısını günceller
    function updateModeSwitchBtn() {
      if (mode === "kimbap") {
        modeSwitchBtn.textContent = "Kolay mı geldi? Biraz acı ekleyelim! 🌶️";
      } else {
        modeSwitchBtn.textContent = "Zor mu geldi? 🍙 Kimbap'a dönelim!";
      }
    }

    // Soru gösterme
    function showQuestion() {
      if (currentQuestionIndex >= randomWords.length) {
        endQuiz();
        return;
      }
      const questionObj = randomWords[currentQuestionIndex];
      koreanWordEl.textContent = questionObj.korean;
      questionCounter.textContent = (currentQuestionIndex + 1) + "/" + totalQuestions;

      // Mod'a göre seçenek sayısı
      const choiceCount = (mode === "kimbap") ? 3 : 6;
      let answers = [questionObj.turkish];
      let others = shuffle(words.filter(w => w.turkish !== questionObj.turkish))
                    .slice(0, choiceCount - 1)
                    .map(item => item.turkish);
      answers.push(...others);
      shuffle(answers);

      // Seçenekleri ekrana bas
      answerButtonsEl.innerHTML = "";
      answers.forEach(ans => {
        const btn = document.createElement("button");
        btn.className = "answer-btn";
        btn.textContent = ans;
        btn.onclick = () => handleAnswerClick(ans);
        answerButtonsEl.appendChild(btn);
      });
    }

    // Seçeneğe tıklandığında cevap kontrolü yapar
    function handleAnswerClick(selectedAnswer) {
      playClickSound();
      const questionObj = randomWords[currentQuestionIndex];
      const correctAnswer = questionObj.turkish;

      answersGiven.push({
        korean: questionObj.korean,
        correctAnswer: correctAnswer,
        userAnswer: selectedAnswer
      });

      if (selectedAnswer === correctAnswer) {
        playCorrectSound();
      } else {
        playWrongSound();
        // Yanlış cevap daha önce eklenmediyse listeye ekle
        const alreadyWrong = wrongAnswers.some(w => w.korean === questionObj.korean);
        if (!alreadyWrong) {
          wrongAnswers.push({ korean: questionObj.korean, turkish: correctAnswer });
          const li = document.createElement("li");
          li.textContent = `${questionObj.korean} : ${correctAnswer}`;
          wrongList.appendChild(li);
        }
      }
      currentQuestionIndex++;
      showQuestion();
    }

    // Mod değiştirme (aynı soruda sadece seçenek sayısı güncellenir)
    function switchMode() {
      playClickSound();
      mode = (mode === "kimbap") ? "gocu" : "kimbap";
      updateModeSwitchBtn();
      showQuestion();
    }

    // Quiz bittiğinde sonuç ekranını gösterir
    function endQuiz() {
      let correctAnswersArr = [];
      let incorrectAnswersArr = [];
      answersGiven.forEach(item => {
        if (item.correctAnswer === item.userAnswer) {
          correctAnswersArr.push(item);
        } else {
          incorrectAnswersArr.push(item);
        }
      });
      // Doğru yanıt listesini oluştur
      correctList.innerHTML = "";
      correctAnswersArr.forEach(item => {
        const li = document.createElement("li");
        li.textContent = `${item.korean} : ${item.correctAnswer}`;
        correctList.appendChild(li);
      });
      // Yanlış yanıt listesini oluştur
      incorrectList.innerHTML = "";
      incorrectAnswersArr.forEach(item => {
        const li = document.createElement("li");
        li.textContent = `${item.korean} : Doğru: ${item.correctAnswer} / Sen: ${item.userAnswer}`;
        incorrectList.appendChild(li);
      });
      // Puan hesapla (100 üzerinden)
      const correctCount = correctAnswersArr.length;
      const scoreValue = Math.round((correctCount / randomWords.length) * 100);
      scoreEl.textContent = `Puanın: ${scoreValue} / 100`;

      showScreen(resultScreen);
    }

    // Yeni quiz başlatmak için
    function restartQuiz() {
      playClickSound();
      showScreen(startScreen);
    }

    /* --- EVENT LISTENERS --- */
    kimbapBtn.addEventListener("click", () => {
      playClickSound();
      startQuiz("kimbap");
    });
    gocuBtn.addEventListener("click", () => {
      playClickSound();
      startQuiz("gocu");
    });
    modeSwitchBtn.addEventListener("click", switchMode);
    musicBtn.addEventListener("click", toggleMusic);
    restartBtn.addEventListener("click", restartQuiz);
  </script>
</body>
</html>
